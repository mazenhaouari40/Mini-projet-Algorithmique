<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jeu Pendu</title>
    <script src="jeu_pendu.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <script>
        
            function run_wasm_ajout() {
                var mot = document.querySelector("#mot_a").value;
                console.log(mot);
                result = Module.ccall(
                "graph_Ajouter",
                "string",
                ["string"],
                [mot]
                );
                console.log(result);
                document.querySelector("#result_a").textContent =  result ;

               
                
            }

            function run_wasm_rech() {
                var a = document.querySelector("#mot_r").value;
                console.log(a);
                result = Module.ccall(
                "graph_recherche",
                "number",
                ["string"],
                [a]
                );
                console.log(result);
                document.querySelector("#result_r").textContent =  result ? `${a} existe dans le dictionaire`: `${a} n'existe pas dans le dictionaire`;
               
                
            }
            function run_wasm_supp() {
                var b = document.querySelector("#mot_s").value;
                console.log(b);
                result =  Module.ccall(
                "graph_supprimer",
                "string",
                ["string"],
                [b]
                );
                console.log(result);
                document.querySelector("#result_s").textContent =  result;
                
                
            }
            function popup_a() {
                var popup = document.getElementById("myForm_a");
                popup.classList.add("open-popup");
            }
            function popup_r() {
                var popup = document.getElementById("myForm_r");
                popup.classList.add("open-popup");
            }
            function popup_s() {
                var popup = document.getElementById("myForm_s");
                popup.classList.add("open-popup");
            }

            function closePopup_a() {
                var popup = document.getElementById("myForm_a");
                popup.classList.remove("open-popup");
            }
            function closePopup_r() {
                var popup = document.getElementById("myForm_r");
                popup.classList.remove("open-popup");
            }
            function closePopup_s() {
                var popup = document.getElementById("myForm_s");
                popup.classList.remove("open-popup");
            }

       
    </script>

    <p>jeu pendu : Deviner le mot </p>



    <button class="btn" style="width: 300px;"><a href="jouer.html" >Jouer</a></button> <br>
    <button id="toggleButton" onclick="popup_a()" class="btn" style="width: 300px;">Ajouter mot</button> <br>
    <button id="toggleButton" onclick="popup_r()" class="btn" style="width: 300px;">Rechercher mot</button> <br>
    <button id="toggleButton" onclick="popup_s()" class="btn" style="width: 300px;">Supprimer mot</button> <br>
    <div id="myForm_a" class="popup">
        <div class="header">
            <span>Ajouter Mot:</span>
            <button class="close-btn" onclick="closePopup_a()">&times;</button>
        </div>
        <input type="text" id="mot_a" class="styled-input">
        <button onclick="run_wasm_ajout()" class="btn">Ajouter</button>
        <p id="result_a" class="result"></p>
    </div>

    <div id="myForm_r" class="popup">
        <div class="header">
            <span>Rechercher Mot:</span>
            <button class="close-btn" onclick="closePopup_r()">&times;</button>
        </div>
        <input type="text" id="mot_r" class="styled-input">
        <button onclick="run_wasm_rech()" class="btn">Rechercher</button>
        <p id="result_r" class="result"></p>
    </div>
     
    <div id="myForm_s" class="popup">
        <div class="header">
            <span>Supprimer Mot:</span>
            <button class="close-btn" onclick="closePopup_s()">&times;</button>
        </div>
        <input type="text" id="mot_s" class="styled-input">
        <button onclick="run_wasm_supp()" class="btn">Supprimer</button>
        <p id="result_s" class="result"></p>
    </div>
    
</body>
</html>